
// Add this to the existing schema.prisma after the Client model

// Auto Content Strategy - Simplified niche-based automation
model AutoContentStrategy {
  id                    String              @id @default(cuid())
  clientId              String              @unique
  
  // Niche/Topic
  niche                 String              // Main niche/topic for content
  subTopics             String[]            @default([])  // Optional sub-topics
  targetAudience        String?             // Who is the content for?
  
  // Automation settings
  isEnabled             Boolean             @default(true)
  postsPerDay           Int                 @default(1)    // How many posts per day
  preferredPostTime     String              @default("09:00")
  
  // Content preferences
  contentTypes          String[]            @default(["article", "social-post", "video"])
  toneOfVoice           String              @default("professional")  // professional, casual, friendly, authoritative
  language              String              @default("Dutch")
  
  // AI generation settings
  useAITopicGeneration  Boolean             @default(true)
  autoPublish           Boolean             @default(false)  // Auto-publish or save as draft
  
  // Stats
  totalGenerated        Int                 @default(0)
  totalPublished        Int                 @default(0)
  lastGeneratedAt       DateTime?
  
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  Client                Client              @relation(fields: [clientId], references: [id], onDelete: Cascade)
  GeneratedTopics       AutoGeneratedTopic[]
  
  @@index([clientId])
  @@index([isEnabled])
}

// Auto-generated topics from the niche
model AutoGeneratedTopic {
  id                String                  @id @default(cuid())
  strategyId        String
  
  topic             String                  // Generated topic/title
  description       String?                 @db.Text
  keywords          String[]                @default([])
  contentType       String                  @default("article")  // article, social-post, video
  
  status            AutoTopicStatus         @default(PENDING)
  scheduledFor      DateTime?
  generatedAt       DateTime?
  publishedAt       DateTime?
  
  // Links to actual content
  articleId         String?                 // Link to PublishedArticle if generated
  videoId           String?                 // Link to GeneratedVideo if generated
  
  errorMessage      String?
  
  createdAt         DateTime                @default(now())
  updatedAt         DateTime                @updatedAt
  Strategy          AutoContentStrategy     @relation(fields: [strategyId], references: [id], onDelete: Cascade)
  
  @@index([strategyId])
  @@index([status])
  @@index([scheduledFor])
}

enum AutoTopicStatus {
  PENDING
  SCHEDULED
  GENERATING
  GENERATED
  PUBLISHED
  FAILED
}
